(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function a(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(t){if(t.ep)return;t.ep=!0;const r=a(t);fetch(t.href,r)}})();const I=()=>{const n=document.getElementById("search-location").value.toLowerCase(),a=/^(.*?)(?: \s*(.*))?$/,e=n.match(a);if(e){const t=e[1].trim();let r=e[2]?e[2].trim():"";return r==="england".toLowerCase()&&(r="United Kingdom"),r?`${t} ${r}`:t}else return console.log("Invalid input"),""};function C(o){return`http://api.weatherapi.com/v1/forecast.json?key=83520bd3ecdf4ae89d463435230910&q="${o}"&days=7`}async function A(o){try{return await(await fetch(o)).json()}catch(n){console.error(n)}}let m="",p=m;function h(o=!1){try{const n=I();return o?(m="New York",p=m):n!==""?m=n:m=p,m?(p=m,C(m)):void 0}catch(n){console.error(n)}}async function T(o,n=!1){const a=h(n);try{const e=await A(a);return{city:e.location.name,region:e.location.region,country:e.location.country,time:new Date(e.location.localtime).toLocaleTimeString("en-us",{hour:"2-digit",minute:"2-digit"}),date:new Date(e.location.localtime).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),condition:e.current.condition.text,condIcon:e.current.condition.icon,temp:o==="C"?e.current.temp_c:e.current.temp_f,feelsLike:o==="C"?e.current.feelslike_c:e.current.feelslike_f,humidity:e.current.humidity,windSpeed:e.current.wind_kph,precipChance:e.forecast.forecastday[0].day.daily_chance_of_rain}}catch(e){console.error(e)}}async function x(o,n=!1){const a=h(n);try{const t=(await A(a)).forecast.forecastday;let r=[];for(let c=0;c<t.length;c++){console.log(t[c].date);const s=new Date(t[c].date).toLocaleDateString("en-us",{weekday:"long"}),l=new Date(t[c].date).getDay(),d=o==="C"?t[c].day.maxtemp_c:t[c].day.maxtemp_f,u=o==="C"?t[c].day.mintemp_c:t[c].day.mintemp_f,f={conditionIcon:t[c].day.condition.icon,dayOfWeek:s,dayNum:l,maxTemp:d,minTemp:u};r.push(f)}return r}catch(e){console.error(e)}}async function y(o,n){const a=document.getElementById("location-name"),e=document.getElementById("temp"),t=document.getElementById("feels-like"),r=document.getElementById("current-condition"),c=document.getElementById("condition-img"),s=document.getElementById("current-time"),l=document.getElementById("current-date"),d=document.getElementById("wind-speed"),u=document.getElementById("humidity"),f=document.getElementById("precip-chance"),i=await T(o,n);l.innerText=i.date,s.innerText=i.time;const E=()=>{i.country==="United States of America"?a.innerText=`${i.city}, ${i.region}`:a.innerText=`${i.city}, ${i.country}`};d.innerText=o==="C"?`${i.windSpeed} km/h`:`${i.windSpeed} mp/h`,u.innerText=`${i.humidity}%`,f.innerText=`${i.precipChance}%`,e.innerText=o==="C"?`${i.temp}°C`:`${i.temp}°F`,t.innerText=o==="C"?`${i.feelsLike}°C`:`${i.feelsLike}°F`,r.innerText=i.condition,c.src=i.condIcon,E()}const w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAnklEQVRIS2NkoDFgpLH5DKMWEAzhQRFEBkBn1gNxIhB/IOhkNAXE+GA9UE8AEF8AYkdSLSHGAgGgofuBGOQTki0hxgKQp8m2hFgLyLaEFAvIsoQcC+YjRXogkP0AX8oixQJQPJBkOMhiYi0gy3BiLSDbcGItAAVLAjQPEAxz9PggJohAGawfWlTgjVBskU2MBaQWPyjqRy0gGHxDP4gAt8oiGdtfRGwAAAAASUVORK5CYII=",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAtklEQVRIS+2SXQ2AMAyEmQOkIAEcgDKCAqSABCQgAQn0kpGM0a0ry962pOGvva9ca5rCxxTWbypAdLhalGVRR9UzxURxBZRam7PQ9eByYjPYqKC3hQMDgfhKMVLsFMj5nBgAAoDgT9CdC3HF/W8viLRFHAQCT+dRcSRKAOT4kNPaIoqnAnwInpPENQAXgntu6NyMkyxyC2EXTmhtVVvEdqR9mTJkraZqTbPEtUP+BasWibYVt+gGW38fGfbvqxEAAAAASUVORK5CYII=";async function g(o,n=!1){const a=document.getElementById("forecast-data"),e=document.getElementById("expand-forecast"),t=document.getElementById("chevron"),r=await x(o,n);a.innerHTML="",r.forEach(c=>{const s=document.createElement("div"),l=document.createElement("p"),d=document.createElement("div"),u=document.createElement("p"),f=document.createElement("p"),i=document.createElement("img");i.src=c.conditionIcon,u.innerText=o==="C"?`${c.maxTemp}°C`:`${c.maxTemp}°F`,f.innerText=o==="C"?`${c.minTemp}°C`:`${c.minTemp}°F`,l.innerText=c.dayOfWeek,s.classList.add("forecast-day"),s.setAttribute("data-day",c.dayNum),d.classList.add("temp-container"),d.appendChild(u),d.appendChild(f),s.appendChild(l),s.appendChild(i),s.appendChild(d),a.appendChild(s)}),e.addEventListener("click",()=>{a.classList.contains("hidden")?(t.src=B,a.classList.remove("hidden")):(a.classList.add("hidden"),t.src=w)})}function L(){const o=document.getElementById("search-location"),n=document.getElementById("toggle-temp"),a=document.getElementById("forecast-data");let e="C";y(e,!0),g(e,!0),o.addEventListener("keydown",t=>{t.key==="Enter"&&(y(e),g(e))}),n.addEventListener("click",()=>{n.innerText==="C"?(n.innerText="F",e="F"):(n.innerText="C",e="C"),y(e),g(e)}),window.addEventListener("resize",()=>{screen.width>=473&&a.classList.remove("hidden")})}L();
