(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function a(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function e(t){if(t.ep)return;t.ep=!0;const c=a(t);fetch(t.href,c)}})();const I=()=>{const n=document.getElementById("search-location").value.toLowerCase(),a=/^(.*?)(?: \s*(.*))?$/,e=n.match(a);if(e){const t=e[1].trim();let c=e[2]?e[2].trim():"";return c==="england".toLowerCase()&&(c="United Kingdom"),c?`${t} ${c}`:t}else return console.log("Invalid input"),""};function C(o){return`https://api.weatherapi.com/v1/forecast.json?key=83520bd3ecdf4ae89d463435230910&q="${o}"&days=7`}async function A(o){try{return await(await fetch(o)).json()}catch(n){console.error(n)}}let m="",p=m;function h(o=!1){try{const n=I();return o?(m="New York",p=m):n!==""?m=n:m=p,m?(p=m,C(m)):void 0}catch(n){console.error(n)}}async function T(o,n=!1){const a=h(n);try{const e=await A(a);return{city:e.location.name,region:e.location.region,country:e.location.country,time:new Date(e.location.localtime).toLocaleTimeString("en-us",{hour:"2-digit",minute:"2-digit"}),date:new Date(e.location.localtime).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),condition:e.current.condition.text,condIcon:e.current.condition.icon,temp:o==="C"?e.current.temp_c:e.current.temp_f,feelsLike:o==="C"?e.current.feelslike_c:e.current.feelslike_f,humidity:e.current.humidity,windSpeed:e.current.wind_kph,precipChance:e.forecast.forecastday[0].day.daily_chance_of_rain}}catch(e){console.error(e)}}async function x(o,n=!1){const a=h(n);try{const t=(await A(a)).forecast.forecastday;let c=[];for(let r=0;r<t.length;r++){const s=new Date(t[r].date).toLocaleDateString("en-us",{weekday:"long"}),l=new Date(t[r].date).getDay(),d=o==="C"?t[r].day.maxtemp_c:t[r].day.maxtemp_f,u=o==="C"?t[r].day.mintemp_c:t[r].day.mintemp_f,f={conditionIcon:t[r].day.condition.icon,dayOfWeek:s,dayNum:l,maxTemp:d,minTemp:u};c.push(f)}return c}catch(e){console.error(e)}}async function y(o,n){const a=document.getElementById("location-name"),e=document.getElementById("temp"),t=document.getElementById("feels-like"),c=document.getElementById("current-condition"),r=document.getElementById("condition-img"),s=document.getElementById("current-time"),l=document.getElementById("current-date"),d=document.getElementById("wind-speed"),u=document.getElementById("humidity"),f=document.getElementById("precip-chance"),i=await T(o,n);l.innerText=i.date,s.innerText=i.time;const E=()=>{i.country==="United States of America"?a.innerText=`${i.city}, ${i.region}`:a.innerText=`${i.city}, ${i.country}`};d.innerText=o==="C"?`${i.windSpeed} km/h`:`${i.windSpeed} mp/h`,u.innerText=`${i.humidity}%`,f.innerText=`${i.precipChance}%`,e.innerText=o==="C"?`${i.temp}°C`:`${i.temp}°F`,t.innerText=o==="C"?`${i.feelsLike}°C`:`${i.feelsLike}°F`,c.innerText=i.condition,r.src=i.condIcon,E()}const w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAnklEQVRIS2NkoDFgpLH5DKMWEAzhQRFEBkBn1gNxIhB/IOhkNAXE+GA9UE8AEF8AYkdSLSHGAgGgofuBGOQTki0hxgKQp8m2hFgLyLaEFAvIsoQcC+YjRXogkP0AX8oixQJQPJBkOMhiYi0gy3BiLSDbcGItAAVLAjQPEAxz9PggJohAGawfWlTgjVBskU2MBaQWPyjqRy0gGHxDP4gAt8oiGdtfRGwAAAAASUVORK5CYII=",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAtklEQVRIS+2SXQ2AMAyEmQOkIAEcgDKCAqSABCQgAQn0kpGM0a0ry962pOGvva9ca5rCxxTWbypAdLhalGVRR9UzxURxBZRam7PQ9eByYjPYqKC3hQMDgfhKMVLsFMj5nBgAAoDgT9CdC3HF/W8viLRFHAQCT+dRcSRKAOT4kNPaIoqnAnwInpPENQAXgntu6NyMkyxyC2EXTmhtVVvEdqR9mTJkraZqTbPEtUP+BasWibYVt+gGW38fGfbvqxEAAAAASUVORK5CYII=";async function g(o,n=!1){const a=document.getElementById("forecast-data"),e=document.getElementById("expand-forecast"),t=document.getElementById("chevron"),c=await x(o,n);a.innerHTML="",c.forEach(r=>{const s=document.createElement("div"),l=document.createElement("p"),d=document.createElement("div"),u=document.createElement("p"),f=document.createElement("p"),i=document.createElement("img");i.src=r.conditionIcon,u.innerText=o==="C"?`${r.maxTemp}°C`:`${r.maxTemp}°F`,f.innerText=o==="C"?`${r.minTemp}°C`:`${r.minTemp}°F`,l.innerText=r.dayOfWeek,s.classList.add("forecast-day"),s.setAttribute("data-day",r.dayNum),d.classList.add("temp-container"),d.appendChild(u),d.appendChild(f),s.appendChild(l),s.appendChild(i),s.appendChild(d),a.appendChild(s)}),e.addEventListener("click",()=>{a.classList.contains("hidden")?(t.src=B,a.classList.remove("hidden")):(a.classList.add("hidden"),t.src=w)})}function L(){const o=document.getElementById("search-location"),n=document.getElementById("toggle-temp"),a=document.getElementById("forecast-data");let e="C";y(e,!0),g(e,!0),o.addEventListener("keydown",t=>{t.key==="Enter"&&(y(e),g(e))}),n.addEventListener("click",()=>{n.innerText==="C"?(n.innerText="F",e="F"):(n.innerText="C",e="C"),y(e),g(e)}),window.addEventListener("resize",()=>{screen.width>=473&&a.classList.remove("hidden")})}L();
